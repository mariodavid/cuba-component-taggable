<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://addTags"
        class="de.diedavids.cuba.taggable.web.TagAssignment"
        datasource="customerDs"
        focusComponent="tagsTokenList"
        messagesPack="de.diedavids.cuba.taggable.web.example.customer">
    <dsContext>
        <datasource id="customerDs"
                    class="de.diedavids.cuba.taggable.entity.example.Customer"
                    view="_local"/>

        <collectionDatasource id="customerTagsDs"
                              allowCommit="false"
                              class="de.diedavids.cuba.taggable.entity.Tag"
                              datasourceClass="de.diedavids.cuba.taggable.web.TagsCollectionDatasource"
                              view="_minimal">
        </collectionDatasource>
        <collectionDatasource id="allTagsDs"
                              allowCommit="false"
                              class="de.diedavids.cuba.taggable.entity.Tag"
                              view="_minimal">
            <query>
                <![CDATA[select e from ddct$Tag e]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <dialogMode modal="false"/>
    <layout expand="windowActions"
            spacing="true">
        <tokenList id="tagsTokenList" datasource="customerTagsDs" inline="true" clearEnabled="false" width="100%">
            <lookup optionsDatasource="allTagsDs" multiselect="true" filterMode="STARTS_WITH" />
        </tokenList>
        <frame id="windowActions"
               screen="editWindowActions"/>
    </layout>
</window>
